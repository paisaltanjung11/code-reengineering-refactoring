Berikut adalah identifikasi code smell yang ditemukan dalam file Java Servlet yang Anda lampirkan:
Code Smell: Long Method
File: AddBookServlet.java, CartServlet.java, ViewBookServlet.java, ProcessPaymentServlet.java, ReceiptServlet.java
Masalah: Method service di file-file ini terlalu panjang dan mencakup banyak tanggung jawab, seperti validasi login, pengambilan parameter, dan pemrosesan logika bisnis.
Solusi Refactor: Pisahkan logika menjadi beberapa method kecil yang lebih spesifik untuk meningkatkan keterbacaan dan pemeliharaan.
Code Smell: Duplicated Code
File: AboutServlet.java, AddBookServlet.java, CartServlet.java, ViewBookServlet.java, ProcessPaymentServlet.java, ReceiptServlet.java
Masalah: Kode untuk validasi login dan pengaturan tab aktif diulang di banyak servlet.
Solusi Refactor: Ekstrak logika ini ke dalam utilitas atau superclass yang dapat digunakan kembali oleh semua servlet.
Code Smell: Magic Strings
File: AddBookServlet.java, CartServlet.java, ViewBookServlet.java, ProcessPaymentServlet.java, ReceiptServlet.java
Masalah: Penggunaan string literal untuk nama parameter dan konten HTML membuat kode sulit dipelihara dan rentan terhadap kesalahan.
Solusi Refactor: Gunakan konstanta untuk string yang sering digunakan dan pertimbangkan untuk memisahkan konten HTML ke dalam file template.
Code Smell: Exception Handling
File: BookServiceImpl.java, UserServiceImpl.java
Masalah: Penanganan SQLException tidak memberikan informasi yang cukup dan tidak ada logging yang memadai.
Solusi Refactor: Tambahkan logging yang lebih baik dan pertimbangkan untuk melempar pengecualian yang lebih spesifik atau menggunakan pengecualian kustom.
Code Smell: Feature Envy
File: CartServlet.java, ViewBookServlet.java
Masalah: Method getRowData dan addBookToCard lebih banyak berinteraksi dengan objek Book daripada dengan objek CartServlet atau ViewBookServlet.
Solusi Refactor: Pindahkan method ini ke dalam kelas Book atau buat kelas utilitas yang menangani rendering data buku.
Code Smell: Inappropriate Intimacy
File: ProcessPaymentServlet.java
Masalah: Method service memiliki akses langsung ke atribut sesi yang seharusnya dikelola oleh kelas lain.
Solusi Refactor: Gunakan method getter dan setter atau utilitas sesi untuk mengelola akses ke atribut sesi.
Code Smell: Primitive Obsession
File: AddBookServlet.java, UpdateBookServlet.java
Masalah: Penggunaan tipe data primitif untuk harga dan kuantitas buku tanpa validasi atau pembungkusan.
Solusi Refactor: Gunakan objek nilai atau kelas pembungkus untuk harga dan kuantitas untuk menambahkan validasi dan logika bisnis.